# Store data.

### 1. นำข้อมูลไปเก็บไว้ใน MongoDB
- **ข้อมูลที่เก็บ**: 
  - MongoDB จะถูกใช้ในการเก็บข้อมูลที่มาจากเซนเซอร์ IoT แบบเป็นเชิงโครงสร้างหรือ semi-structured data โดยเฉพาะข้อมูลที่เกิดขึ้นในแต่ละช่วงเวลาที่มีความสำคัญ ซึ่งอาจรวมถึง:
    - ข้อมูลดิบ (raw data) ที่ได้รับจากเซนเซอร์ เช่น ค่าอุณหภูมิ, ความชื้น, แรงดันไฟฟ้า
    - ข้อมูลที่ผ่านการประมวลผลเบื้องต้นแล้ว เช่น ค่าที่สรุปผล, ค่าเฉลี่ยในแต่ละช่วงเวลา
    - ข้อมูลประวัติของเซนเซอร์หรือการตั้งค่าต่างๆ เช่น ค่า calibration ของเซนเซอร์ หรือสถานะของเซนเซอร์ในช่วงเวลาหนึ่ง
- **วัตถุประสงค์**: MongoDB ถูกใช้เพื่อเก็บข้อมูลเชิงประวัติที่สามารถเรียกดูย้อนหลังได้ และรองรับการสืบค้นที่ซับซ้อน เช่น การค้นหาข้อมูลจากเซนเซอร์เฉพาะตัวในระยะเวลาหนึ่ง หรือการดึงข้อมูลทั้งหมดจากเซนเซอร์ในสถานที่ที่กำหนด

---

### 2. นำข้อมูลไปส่งต่อให้ Prometheus
- **ข้อมูลที่เก็บ**: 
  - Prometheus จะถูกใช้ในการเก็บข้อมูลเชิงสถิติและข้อมูลการตรวจวัดที่เกี่ยวข้องกับการตรวจสอบสถานะของระบบ (monitoring data) แบบเรียลไทม์ ซึ่งรวมถึง:
    - Metrics ของเซนเซอร์ เช่น ค่าการทำงานต่างๆ ของเซนเซอร์ (เช่น ความถี่การส่งข้อมูล, สถานะการทำงาน)
    - Metrics ของระบบที่เกี่ยวข้อง เช่น การใช้ CPU, การใช้หน่วยความจำ หรือการตอบสนองของระบบในเวลาที่ต่างกัน
    - ข้อมูลเวลาจริง (real-time metrics) เช่น ความเปลี่ยนแปลงของค่าที่เซนเซอร์วัดได้ ณ เวลานั้น เพื่อใช้ในการแจ้งเตือนเหตุการณ์หรือปัญหาที่เกิดขึ้น
- **วัตถุประสงค์**: Prometheus ถูกใช้เพื่อเก็บข้อมูลที่เกี่ยวข้องกับการตรวจสอบระบบแบบ real-time เพื่อใช้ในการติดตามและแจ้งเตือนเมื่อระบบมีปัญหา หรือเมื่อค่าที่เซนเซอร์วัดได้เกินเกณฑ์ที่กำหนด

---

### **สรุป**
- **MongoDB** ถูกใช้สำหรับการเก็บข้อมูลดิบและข้อมูลที่ประมวลผลแล้ว ซึ่งสามารถเรียกดูย้อนหลังและใช้ในการวิเคราะห์ข้อมูลที่ซับซ้อนได้
- **Prometheus** ถูกใช้สำหรับการตรวจสอบสถานะของเซนเซอร์และระบบแบบเรียลไทม์ เพื่อใช้ในการติดตามและแจ้งเตือนการทำงาน